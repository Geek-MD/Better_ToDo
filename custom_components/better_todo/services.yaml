set_task_recurrence:
  name: Set task recurrence
  description: Configure recurrence settings for a task
  fields:
    entity_id:
      name: Entity ID
      description: The todo list entity containing the task
      required: true
      example: "todo.better_todo"
      selector:
        entity:
          domain: todo
          integration: better_todo
    task_uid:
      name: Task UID
      description: The unique identifier of the task
      required: true
      example: "01HQWXYZ123456789"
      selector:
        text:
    recurrence_enabled:
      name: Enable recurrence
      description: Enable or disable recurrence for this task
      required: true
      default: false
      selector:
        boolean:
    recurrence_interval:
      name: Recurrence interval
      description: The interval value for recurrence (e.g., 1, 2, 3)
      required: false
      default: 1
      selector:
        number:
          min: 1
          max: 365
          mode: box
    recurrence_unit:
      name: Recurrence unit
      description: The time unit for recurrence
      required: false
      default: "days"
      selector:
        select:
          options:
            - label: "Days"
              value: "days"
            - label: "Months"
              value: "months"
            - label: "Years"
              value: "years"
    recurrence_end_enabled:
      name: Enable recurrence end
      description: Enable or disable a limit for recurrence
      required: false
      default: false
      selector:
        boolean:
    recurrence_end_type:
      name: Recurrence end type
      description: How to limit the recurrence
      required: false
      default: "count"
      selector:
        select:
          options:
            - label: "After count"
              value: "count"
            - label: "On date"
              value: "date"
    recurrence_end_count:
      name: Recurrence end count
      description: Number of times to repeat the task
      required: false
      selector:
        number:
          min: 1
          max: 999
          mode: box
    recurrence_end_date:
      name: Recurrence end date
      description: Date when to stop repeating the task
      required: false
      selector:
        date:

get_task_recurrence:
  name: Get task recurrence
  description: Refresh and retrieve recurrence settings for all tasks in the list. Recurrence data is available in the entity's 'recurrence_data' attribute.
  fields:
    entity_id:
      name: Entity ID
      description: The todo list entity
      required: true
      example: "todo.better_todo"
      selector:
        entity:
          domain: todo
          integration: better_todo

apply_recurrence_from_ui:
  name: Apply recurrence from UI
  description: Apply recurrence settings from the helper entities (number, select, text) to the task specified in the task UID entity. This service is automatically called when pressing the "Apply recurrence settings" button.
  fields:
    entity_id:
      name: Entity ID
      description: The todo list entity
      required: true
      example: "todo.better_todo"
      selector:
        entity:
          domain: todo
          integration: better_todo
